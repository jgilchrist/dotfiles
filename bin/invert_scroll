#!/usr/bin/env bash

set -o errexit
set -o pipefail

if [[ "$OSTYPE" == "darwin"* ]]; then
osascript <<'END'
try
    tell application "System Preferences"
        (run)
        set current pane to pane "com.apple.preference.trackpad"
    end tell

    tell application "System Events"
        tell process "System Preferences"
            delay 0.6
            click radio button "Scroll & Zoom" of tab group 1 of window "Trackpad"
            click checkbox 1 of tab group 1 of window "Trackpad"
        end tell

        tell application "System Preferences" to quit
    end tell

    display notification with title "Scroll direction reversed"
end try
END
else
    echo "Script only works on macOS"
fi

