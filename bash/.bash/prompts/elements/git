case $OSTYPE in
    linux*)
        if [ -f /etc/bash_completion.d/git-prompt ]; then
            GIT_PROMPT_SCRIPT_LOC=/etc/bash_completion.d/git-prompt
        else
            GIT_PROMPT_SCRIPT_LOC=/usr/share/git/git-prompt.sh
        fi
        ;;
    darwin*)
        GIT_PROMPT_SCRIPT_LOC=/usr/local/etc/bash_completion.d/git-prompt.sh
        ;;
esac


if [ -f $GIT_PROMPT_SCRIPT_LOC ]; then
    source $GIT_PROMPT_SCRIPT_LOC
else
    echo "Cannot load ${GIT_PROMPT_SCRIPT_LOC}: Prompt will not contain the current git branch."
fi

export GIT_PS1_SHOWDIRTYSTATE=true
export GIT_PS1_SHOWSTASHSTATE=true
export GIT_PS1_SHOWUNTRACKEDFILES=true
export GIT_PS1_SHOWUPSTREAM="auto"

function prompt_git() {
    local E_VIOLET=$(readline_color_escape $VIOLET)
    local E_RESET=$(readline_color_escape $RESET)

    local GIT_PROMPT_BRANCH=$(__git_ps1 "(${E_VIOLET}%s${E_RESET})")

    echo -e " $GIT_PROMPT_BRANCH"
}
